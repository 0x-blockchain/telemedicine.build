(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6730],{9214:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/blogs/new",function(){return n(9839)}])},3538:function(e,a,n){"use strict";var i=n(5893),l=(n(7294),n(1664)),s=n.n(l);a.Z=function(e){var a=e.pageTitle,n=e.homePageUrl,l=e.homePageText,t=e.activePageText,c=e.bgImage;return(0,i.jsx)("div",{className:"page-title-area ".concat(c),children:(0,i.jsx)("div",{className:"d-table",children:(0,i.jsx)("div",{className:"d-table-cell",children:(0,i.jsxs)("div",{className:"page-title-item",children:[(0,i.jsx)("h2",{children:a}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(s(),{href:n,children:(0,i.jsx)("a",{children:l})})}),(0,i.jsx)("li",{className:"active",children:t})]})]})})})})}},5162:function(e,a,n){"use strict";var i=n(5893);n(7294);a.Z=function(e){var a=e.onChange,n=e.src,l=e.isAvatar;return(0,i.jsxs)("label",{htmlFor:"photo-upload",className:l?"custom-file-upload fas":"custom-file-upload-license fas",children:[(0,i.jsx)("div",{className:l?"img-wrap img-upload":"img-wrap-license img-upload",children:(0,i.jsx)("picture",{children:(0,i.jsx)("img",{htmlFor:"photo-upload",src:n,alt:"image-upload"})})}),(0,i.jsx)("input",{id:"photo-upload",type:"file",onChange:a})]})}},3364:function(e,a,n){"use strict";var i=n(5893);n(7294);a.Z=function(e){var a=e.onSubmit,n=e.src;return(0,i.jsx)("div",{className:"card",children:(0,i.jsxs)("form",{onSubmit:a,children:[(0,i.jsx)("h1",{children:"Profile Card"}),(0,i.jsx)("label",{className:"custom-file-upload fas",children:(0,i.jsx)("div",{className:"img-wrap",children:(0,i.jsx)("picture",{children:(0,i.jsx)("img",{src:n,alt:"image-profile"})})})})]})})}},9839:function(e,a,n){"use strict";n.r(a);var i=n(4924),l=n(6042),s=n(9396),t=n(5893),c=n(7294),r=n(3923),o=n(8871),d=n(3538),u=n(5245),m=n(2283),h=n(7105),g=n(1163),f=n(3364),v=n(5162),x=n(9669),p=n.n(x),j=n(8774),b=n(8044),N=n(772),y=n(8913),Z=n(6176),w=n(5313),C={title:"",content:"",category:"",tags:[]};a.default=function(){var e=(0,g.useRouter)(),a=(0,m.cI)(),n=a.register,x=a.handleSubmit,S=a.errors,k=(0,c.useState)(C),T=k[0],_=k[1],E=(0,c.useState)(""),P=E[0],D=E[1],q=(0,c.useState)("/images/default-image.png"),F=q[0],R=q[1],V=(0,c.useState)("edit"),A=V[0],I=V[1],M=function(e){var a=e.target,n=a.name,t=a.value;_((function(e){return(0,s.Z)((0,l.Z)({},e),(0,i.Z)({},n,t))}))};return(0,c.useEffect)((function(){if(Z.W.userValue&&"success"==Z.W.userValue.type){var a,n=(0,w.Z)(Z.W.userValue.token);"stevekim@gmail.com"!==(null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.email)&&e.push("/")}else e.push("/")}),[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Z,{}),(0,t.jsx)(o.Z,{}),(0,t.jsx)(d.Z,{pageTitle:"New",homePageUrl:"/",homePageText:"Admin",activePageText:"Blogs",bgImage:"page-title-one"}),(0,t.jsx)("div",{className:"about-area pt-100 pb-70",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("div",{className:"d-flex justify-content-end",children:(0,t.jsx)("button",{className:"btn btn-default",onClick:function(){e.push("/admin/blogs")},children:"Go to List"})}),(0,t.jsx)("form",{className:"blog-form",onSubmit:x((function(){var a="".concat(h.Z,"/api/blogs/add"),n=new FormData;n.append("image",P),n.append("blog",JSON.stringify(T)),p().post(a,n).then((function(a){j.default.success("Success message",a.data.msg),e.push("/admin/blogs")})).catch((function(e){console.log(e),j.default.error("Error message","Something went wrong")}))})),children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-lg-3 text-center mt-3",children:"edit"===A?(0,t.jsx)(v.Z,{onChange:function(e){var a=new FileReader,n=e.target.files[0];a.onloadend=function(){D(n),R(a.result)},a.readAsDataURL(n)},src:F}):(0,t.jsx)(f.Z,{onSubmit:function(e){e&&e.preventDefault&&e.preventDefault(),I("edit"===A?"profile":"edit")},src:F})}),(0,t.jsxs)("div",{className:"col-lg-8",children:[(0,t.jsx)("div",{className:"col-lg-12",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Title"}),(0,t.jsx)("input",{name:"title",value:T.title,onChange:M,ref:n({required:!0}),type:"text",className:"form-control mt-1",placeholder:"Enter new blog Title."}),(0,t.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:S.title&&"Title is required."})]})}),(0,t.jsx)("div",{className:"col-lg-12 mt-5",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Content"}),(0,t.jsx)("textarea",{className:"form-control mt-1",value:T.content,onChange:M,ref:n({required:!0}),name:"content",id:"content",rows:"3",placeholder:"Enter new blog Content"}),(0,t.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:S.content&&"Content is required."})]})}),(0,t.jsx)("div",{className:"col-lg-12 mt-5",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"category",children:"Category"}),(0,t.jsxs)("select",{className:"form-control",value:T.category,onChange:M,ref:n({required:!0}),name:"category",children:[(0,t.jsx)("option",{value:"",children:"-- Select a category --"}),y.Z.map((function(e,a){return(0,t.jsx)("option",{value:e.name,children:e.name},a)}))]}),(0,t.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:S.category&&"Category is required."})]})}),(0,t.jsxs)("div",{className:"col-lg-12 mt-5",children:[(0,t.jsx)("label",{children:"Tags"}),(0,t.jsx)(b.default,{options:N.Z,selectedValues:T.tags,onSelect:function(e){_((function(a){return(0,s.Z)((0,l.Z)({},a),{tags:e})}))},onRemove:function(e){_((function(a){return(0,s.Z)((0,l.Z)({},a),{tags:e})}))},displayValue:"name"})]})]}),(0,t.jsx)("div",{className:"d-flex justify-content-end mt-5",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{type:"submit",className:"btn btn-primary signup-btn",children:"Submit"})})})]})})]})}),(0,t.jsx)(u.Z,{})]})}},8913:function(e,a){"use strict";a.Z=[{id:1,name:"Health Care",value:"healthcare"},{id:2,name:"Medical Science",value:"medicalscience"},{id:3,name:"Daily Lifestyle",value:"dailylifestyle"},{id:4,name:"Medicine",value:"medicine"},{id:5,name:"Modern Technology",value:"moderntechnology"},{id:7,name:"Cancer Research",value:"cancerresearch"},{id:8,name:"Bioinformatics",value:"bioinformatics"}]},772:function(e,a){"use strict";a.Z=[{id:1,name:"Dental",value:"dental"},{id:2,name:"Health",value:"health"},{id:3,name:"Child",value:"child"},{id:4,name:"Medicine",value:"medicine"},{id:5,name:"AIDS",value:"aids"}]}},function(e){e.O(0,[1664,8554,4333,878,2641,9774,2888,179],(function(){return a=9214,e(e.s=a);var a}));var a=e.O();_N_E=a}]);