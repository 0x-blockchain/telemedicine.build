(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{514:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/blogs/edit/[did]",function(){return n(875)}])},3538:function(e,a,n){"use strict";var t=n(5893),i=(n(7294),n(1664)),l=n.n(i);a.Z=function(e){var a=e.pageTitle,n=e.homePageUrl,i=e.homePageText,s=e.activePageText,c=e.bgImage;return(0,t.jsx)("div",{className:"page-title-area ".concat(c),children:(0,t.jsx)("div",{className:"d-table",children:(0,t.jsx)("div",{className:"d-table-cell",children:(0,t.jsxs)("div",{className:"page-title-item",children:[(0,t.jsx)("h2",{children:a}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)(l(),{href:n,children:(0,t.jsx)("a",{children:i})})}),(0,t.jsx)("li",{className:"active",children:s})]})]})})})})}},5162:function(e,a,n){"use strict";var t=n(5893);n(7294);a.Z=function(e){var a=e.onChange,n=e.src,i=e.isAvatar;return(0,t.jsxs)("label",{htmlFor:"photo-upload",className:i?"custom-file-upload fas":"custom-file-upload-license fas",children:[(0,t.jsx)("div",{className:i?"img-wrap img-upload":"img-wrap-license img-upload",children:(0,t.jsx)("picture",{children:(0,t.jsx)("img",{htmlFor:"photo-upload",src:n,alt:"image-upload"})})}),(0,t.jsx)("input",{id:"photo-upload",type:"file",onChange:a})]})}},3364:function(e,a,n){"use strict";var t=n(5893);n(7294);a.Z=function(e){var a=e.onSubmit,n=e.src;return(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("form",{onSubmit:a,children:[(0,t.jsx)("h1",{children:"Profile Card"}),(0,t.jsx)("label",{className:"custom-file-upload fas",children:(0,t.jsx)("div",{className:"img-wrap",children:(0,t.jsx)("picture",{children:(0,t.jsx)("img",{src:n,alt:"image-profile"})})})})]})})}},875:function(e,a,n){"use strict";n.r(a);var t=n(4924),i=n(6042),l=n(9396),s=n(5893),c=n(7294),r=n(3923),o=n(8871),d=n(3538),u=n(5245),m=n(2283),h=n(7105),g=n(1163),f=n(3364),v=n(5162),p=n(9669),x=n.n(p),j=n(8774),b=n(8044),N=n(8913),y=n(772),Z=n(6176),w=n(5313),C={_id:"",title:"",content:"",category:"",tags:[]};a.default=function(){var e=(0,g.useRouter)(),a=e.query.did,n=(0,m.cI)(),p=n.register,S=n.handleSubmit,k=n.errors,E=(0,c.useState)(C),_=E[0],T=E[1],P=(0,c.useState)(""),D=P[0],q=P[1],F=(0,c.useState)("/images/default-image.png"),R=F[0],V=F[1],A=(0,c.useState)("edit"),I=A[0],M=A[1],U=function(e){var a=e.target,n=a.name,s=a.value;T((function(e){return(0,l.Z)((0,i.Z)({},e),(0,t.Z)({},n,s))}))};return(0,c.useEffect)((function(){if(a){var e="".concat(h.Z,"/api/blogs/edit/").concat(a);x().get(e).then((function(e){T(e.data),e.data.imagePath?V("".concat(h.Z,"/").concat(e.data.imagePath)):V("/images/default-image.png")})).catch((function(){j.default.error("Error message","Something went wrong.")}))}}),[a]),(0,c.useEffect)((function(){if(Z.W.userValue&&"success"==Z.W.userValue.type){var a,n=(0,w.Z)(Z.W.userValue.token);"stevekim@gmail.com"!==(null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.email)&&e.push("/")}else e.push("/")}),[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Z,{}),(0,s.jsx)(o.Z,{}),(0,s.jsx)(d.Z,{pageTitle:"Edit",homePageUrl:"/",homePageText:"Admin",activePageText:"Blogs",bgImage:"page-title-one"}),(0,s.jsx)("div",{className:"about-area pt-100 pb-70",children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{className:"d-flex justify-content-end",children:(0,s.jsx)("button",{className:"btn btn-default",onClick:function(){e.push("/admin/blogs")},children:"Go to List"})}),(0,s.jsx)("form",{className:"blog-form",onSubmit:S((function(){var a="".concat(h.Z,"/api/blogs/update"),n=new FormData;n.append("image",D),n.append("blog",JSON.stringify(_)),x().post(a,n).then((function(a){j.default.success("Success message",a.data.msg),e.push("/admin/blogs")})).catch((function(e){console.log(e),j.default.error("Error message","Something went wrong")}))})),children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-lg-3 text-center mt-3",children:"edit"===I?(0,s.jsx)(v.Z,{onChange:function(e){e&&e.preventDefault&&e.preventDefault();var a=new FileReader,n=e.target.files[0];a.onloadend=function(){q(n),V(a.result)},a.readAsDataURL(n)},src:R}):(0,s.jsx)(f.Z,{onSubmit:function(e){e&&e.preventDefault&&e.preventDefault(),M("edit"===I?"profile":"edit")},src:R})}),(0,s.jsxs)("div",{className:"col-lg-8",children:[(0,s.jsx)("div",{className:"col-lg-12",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Title"}),(0,s.jsx)("input",{name:"title",value:_.title,onChange:U,ref:p({required:!0}),type:"text",className:"form-control mt-1",placeholder:"Enter new blog Title."}),(0,s.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:k.title&&"Email is required."})]})}),(0,s.jsx)("div",{className:"col-lg-12 mt-5",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Content"}),(0,s.jsx)("textarea",{className:"form-control mt-1",value:_.content,onChange:U,ref:p({required:!0}),name:"content",id:"content",rows:"3",placeholder:"Enter new blog Content"}),(0,s.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:k.content&&"Content is required."})]})}),(0,s.jsx)("div",{className:"col-lg-12 mt-5",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"category",children:"Category"}),(0,s.jsxs)("select",{className:"form-control",value:_.category,onChange:U,ref:p({required:!0}),name:"category",children:[(0,s.jsx)("option",{value:"",children:"--- Select a category ---"}),N.Z.map((function(e,a){return(0,s.jsx)("option",{value:e.name,children:e.name},a)}))]}),(0,s.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:k.category&&"Category is required."})]})}),(0,s.jsxs)("div",{className:"col-lg-12 mt-5",children:[(0,s.jsx)("label",{children:"Tags"}),(0,s.jsx)(b.default,{options:y.Z,selectedValues:_.tags,onSelect:function(e){T((function(a){return(0,l.Z)((0,i.Z)({},a),{tags:e})}))},onRemove:function(e){T((function(a){return(0,l.Z)((0,i.Z)({},a),{tags:e})}))},displayValue:"name"})]})]}),(0,s.jsx)("div",{className:"d-flex justify-content-end mt-5",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("button",{type:"submit",className:"btn btn-primary signup-btn",children:"Update"})})})]})})]})}),(0,s.jsx)(u.Z,{})]})}},8913:function(e,a){"use strict";a.Z=[{id:1,name:"Health Care",value:"healthcare"},{id:2,name:"Medical Science",value:"medicalscience"},{id:3,name:"Daily Lifestyle",value:"dailylifestyle"},{id:4,name:"Medicine",value:"medicine"},{id:5,name:"Modern Technology",value:"moderntechnology"},{id:7,name:"Cancer Research",value:"cancerresearch"},{id:8,name:"Bioinformatics",value:"bioinformatics"}]},772:function(e,a){"use strict";a.Z=[{id:1,name:"Dental",value:"dental"},{id:2,name:"Health",value:"health"},{id:3,name:"Child",value:"child"},{id:4,name:"Medicine",value:"medicine"},{id:5,name:"AIDS",value:"aids"}]}},function(e){e.O(0,[1664,8554,4333,878,2641,9774,2888,179],(function(){return a=514,e(e.s=a);var a}));var a=e.O();_N_E=a}]);