(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9635],{8153:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/users",function(){return t(7725)}])},6887:function(e,n,t){"use strict";var i=t(5893),a=(t(7294),t(3184)),l=t(3252),r=t(6280),s=t(7357),c=t(5071),o=t(3113),d=t(3816);n.Z=function(e){var n=e.onSelectAllClick,t=e.order,u=e.orderBy,h=e.numSelected,x=e.rowCount,f=e.onRequestSort,v=e.headCells;return(0,i.jsx)(a.Z,{children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(l.Z,{padding:"checkbox",children:(0,i.jsx)(c.Z,{color:"primary",indeterminate:h>0&&h<x,checked:x>0&&h===x,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),v.map((function(e){return(0,i.jsx)(l.Z,{align:"left",padding:e.disablePadding?"none":"normal",sortDirection:u===e.id&&t,children:(0,i.jsxs)(r.Z,{active:u===e.id,direction:u===e.id?t:"asc",onClick:(n=e.id,function(e){f(e,n)}),children:[e.label,u===e.id?(0,i.jsx)(s.Z,{component:"span",sx:o.Z,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}},3538:function(e,n,t){"use strict";var i=t(5893),a=(t(7294),t(1664)),l=t.n(a);n.Z=function(e){var n=e.pageTitle,t=e.homePageUrl,a=e.homePageText,r=e.activePageText,s=e.bgImage;return(0,i.jsx)("div",{className:"page-title-area ".concat(s),children:(0,i.jsx)("div",{className:"d-table",children:(0,i.jsx)("div",{className:"d-table-cell",children:(0,i.jsxs)("div",{className:"page-title-item",children:[(0,i.jsx)("h2",{children:n}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(l(),{href:t,children:(0,i.jsx)("a",{children:a})})}),(0,i.jsx)("li",{className:"active",children:r})]})]})})})})}},7725:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return V}});var i=t(5893),a=t(7294),l=t(3923),r=t(8871),s=t(3538),c=t(5245),o=t(6176),d=t(5313),u=t(1163),h=t(7568),x=t(6042),f=t(4051),v=t.n(f),g=t(1796),m=t(7357),p=t(7906),j=t(295),Z=t(3252),b=t(2882),k=t(1790),P=t(3816),w=t(155),C=t(5861),_=t(5113),S=t(5071),N=t(6447),y=t(6420),T=t(1131),E=t(9669),O=t.n(E),R=t(7105),U=t(6887),A=t(5544),I=t(8274),W=[{id:"Name",label:"Name"},{id:"Email",label:"Email"},{id:"Phone",label:"Phone"},{id:"Role",label:"Role"}];function q(){var e,n,t=(0,a.useState)("desc"),l=t[0],r=t[1],s=(0,a.useState)("date"),c=s[0],o=s[1],d=(0,a.useState)([]),u=d[0],f=d[1],E=(0,a.useState)(0),q=E[0],V=E[1],B=(0,a.useState)(10),F=B[0],X=B[1],z=(0,a.useState)([]),D=z[0],L=z[1],M=(0,a.useState)("all"),G=M[0],H=M[1],J=function(){var e=(0,h.Z)(v().mark((function e(n,t){var i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t){e.next=6;break}return e.next=3,O().get("".concat(R.Z,"/api/users/").concat(t));case 3:i=e.sent,L(i.data),H(t);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),K=q>0?Math.max(0,(1+q)*F-D.length):0,Q=(0,a.useCallback)((0,h.Z)(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O().get("".concat(R.Z,"/api/users/all"));case 2:n=e.sent,L(n.data);case 4:case"end":return e.stop()}}),e)}))),[]);return(0,a.useEffect)((function(){Q()}),[]),(0,i.jsx)(m.Z,{sx:{width:"100%"},children:(0,i.jsxs)(_.Z,{sx:{width:"100%",mb:2},children:[(0,i.jsxs)(w.Z,{sx:(0,x.Z)({pl:{sm:2},pr:{xs:1,sm:1}},u.length>0&&{bgcolor:function(e){return(0,g.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[u.length>0?(0,i.jsxs)(C.Z,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[u.length," selected"]}):(0,i.jsx)(C.Z,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"User List"}),(0,i.jsx)(N.Z,{direction:"row",spacing:4,children:(0,i.jsxs)(T.Z,{value:G,exclusive:!0,onChange:J,"aria-label":"text alignment",children:[(0,i.jsx)(y.Z,{value:"all","aria-label":"left aligned",children:"All"}),(0,i.jsx)(y.Z,{value:"staffs","aria-label":"centered",children:"Staffs"}),(0,i.jsx)(y.Z,{value:"clients","aria-label":"right aligned",children:"Clients"})]})})]}),(0,i.jsx)(b.Z,{children:(0,i.jsxs)(p.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"medium",children:[(0,i.jsx)(U.Z,{numSelected:u.length,order:l,headCells:W,orderBy:c,onSelectAllClick:function(e){if(e.target.checked){var n=D.map((function(e){return e._id}));f(n)}else f([])},onRequestSort:function(e,n){r(c===n&&"desc"===l?"asc":"desc"),o(n)},rowCount:null===D||void 0===D?void 0:D.length}),(0,i.jsxs)(j.Z,{children:[null===(n=null===(e=(0,A.Z)(D,(0,I.Z)(l,c)))||void 0===e?void 0:e.slice(q*F,q*F+F))||void 0===n?void 0:n.map((function(e,n){var t,a=(t=e._id,-1!==u.indexOf(t)),l="enhanced-table-checkbox-".concat(n);return(0,i.jsxs)(P.Z,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[(0,i.jsx)(Z.Z,{padding:"checkbox",children:(0,i.jsx)(S.Z,{onChange:function(n){return function(e,n){var t=u.indexOf(n),i=[];-1===t?i=i.concat(u,n):0===t?i=i.concat(u.slice(1)):t===u.length-1?i=i.concat(u.slice(0,-1)):t>0&&(i=i.concat(u.slice(0,t),u.slice(t+1))),f(i)}(0,e._id)},color:"primary",checked:a,inputProps:{"aria-labelledby":l}})}),(0,i.jsx)(Z.Z,{align:"left",children:e.fname+" "+e.lname}),(0,i.jsx)(Z.Z,{align:"left",children:e.email}),(0,i.jsx)(Z.Z,{align:"left",children:e.number}),(0,i.jsx)(Z.Z,{align:"left",children:e.role})]},e._id)})),K>0&&(0,i.jsx)(P.Z,{style:{height:53*K},children:(0,i.jsx)(Z.Z,{colSpan:7})})]})]})}),(0,i.jsx)(k.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:(null===D||void 0===D?void 0:D.length)||0,rowsPerPage:F,page:q,onPageChange:function(e,n){V(n)},onRowsPerPageChange:function(e){X(parseInt(e.target.value,10)),V(0)}})]})})}function V(){var e=(0,u.useRouter)();return(0,a.useEffect)((function(){if(o.W.userValue&&"success"==o.W.userValue.type){var n,t=(0,d.Z)(o.W.userValue.token);"stevekim@gmail.com"!==(null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.email)&&e.push("/")}else e.push("/sign-in")}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{}),(0,i.jsx)(r.Z,{}),(0,i.jsx)(s.Z,{pageTitle:"Users",homePageUrl:"/admin/blogs",homePageText:"Admin",activePageText:"Users",bgImage:"page-title-one"}),(0,i.jsx)("div",{className:"about-area pt-100 pb-70",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)(q,{})})}),(0,i.jsx)(c.Z,{})]})}},8274:function(e,n){"use strict";var t=function(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0};n.Z=function(e,n){return"desc"===e?function(e,i){return t(e,i,n)}:function(e,i){return-t(e,i,n)}}},5544:function(e,n){"use strict";n.Z=function(e,n){var t=null===e||void 0===e?void 0:e.map((function(e,n){return[e,n]}));return null===t||void 0===t||t.sort((function(e,t){var i=n(e[0],t[0]);return 0!==i?i:e[1]-t[1]})),null===t||void 0===t?void 0:t.map((function(e){return e[0]}))}}},function(e){e.O(0,[1664,8554,4333,1562,6852,2009,2641,9774,2888,179],(function(){return n=8153,e(e.s=n);var n}));var n=e.O();_N_E=n}]);