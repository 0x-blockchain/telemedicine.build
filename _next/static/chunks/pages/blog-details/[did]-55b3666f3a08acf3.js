(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7463],{9937:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog-details/[did]",function(){return n(7618)}])},3538:function(e,s,n){"use strict";var a=n(5893),i=(n(7294),n(1664)),c=n.n(i);s.Z=function(e){var s=e.pageTitle,n=e.homePageUrl,i=e.homePageText,t=e.activePageText,l=e.bgImage;return(0,a.jsx)("div",{className:"page-title-area ".concat(l),children:(0,a.jsx)("div",{className:"d-table",children:(0,a.jsx)("div",{className:"d-table-cell",children:(0,a.jsxs)("div",{className:"page-title-item",children:[(0,a.jsx)("h2",{children:s}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)(c(),{href:n,children:(0,a.jsx)("a",{children:i})})}),(0,a.jsx)("li",{className:"active",children:t})]})]})})})})}},7618:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return U}});var a=n(5893),i=n(7294),c=n(3923),t=n(8871),l=n(3538),r=n(5245),o=n(7568),d=n(4924),m=n(6042),u=n(9396),h=n(4051),x=n.n(h),j=n(2283),g=n(4379),f=n(7105),v=n(9669),p=n.n(v),N={blog_id:"",content:"",name:"",email:"",phone:"",subject:""},b=function(e){var s=e.blog_id,n=(0,i.useState)(N),c=n[0],t=n[1],l=(0,j.cI)(),r=l.register,h=l.handleSubmit,v=l.errors,b=function(e){var s=e.target,n=s.name,a=s.value;t((function(e){return(0,u.Z)((0,m.Z)({},e),(0,d.Z)({},n,a))}))},y=function(){var e=(0,o.Z)(x().mark((function e(n){var a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&n.preventDefault&&n.preventDefault();try{c.blog_id=s,a="".concat(f.Z,"/api/comments/add"),p().post(a,{comment:c}).then((function(e){"success"==e.data.type&&g.fn.success("Success Message",e.data.msg),t(N)})).catch((function(e){console.log(e)}))}catch(i){g.fn.error("Error message","Something went wrong.")}case 2:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,a.jsx)("div",{className:"blog-details-form pb-100",children:(0,a.jsxs)("div",{className:"blog-details-form-wrap",children:[(0,a.jsx)("h2",{children:"Drop your comment"}),(0,a.jsxs)("form",{onSubmit:h(y),children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("textarea",{name:"content",ref:r({required:!0}),onChange:b,value:c.content,className:"form-control",id:"your_comments",rows:"8",placeholder:"Your Comments"}),(0,a.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:v.content&&"Comment is required."})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-lg-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("input",{type:"text",name:"name",value:c.name,onChange:b,ref:r({required:!0}),className:"form-control",placeholder:"Name"}),(0,a.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:v.name&&"Name is required."})]})}),(0,a.jsx)("div",{className:"col-lg-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("input",{type:"email",value:c.email,onChange:b,ref:r({required:!0,pattern:/^\S+@\S+$/i}),className:"form-control",placeholder:"Email",name:"email"}),(0,a.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:v.email&&"Email is required."})]})}),(0,a.jsx)("div",{className:"col-lg-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("input",{name:"phone",value:c.phone,onChange:b,ref:r({required:!0}),type:"text",className:"form-control",placeholder:"Phone"}),(0,a.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:v.phone&&"Phone Number is required."})]})}),(0,a.jsx)("div",{className:"col-lg-6",children:(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("input",{type:"text",name:"subject",value:c.subject,onChange:b,ref:r({required:!0}),className:"form-control",placeholder:"Subject"}),(0,a.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:v.subject&&"Subject is required."})]})})]}),(0,a.jsx)("div",{className:"text-left",children:(0,a.jsx)("button",{type:"submit",className:"btn blog-details-form-btn",children:"Post A Comment"})})]})]})})},y=n(9999),Z=n(1664),w=n.n(Z),S=n(8913);function C(e){var s,n=e.blog,i=e.recent;return(0,a.jsxs)("div",{className:"blog-details-item",children:[(0,a.jsxs)("div",{className:"blog-details-recent",children:[(0,a.jsx)("h3",{children:"Recent Blogs"}),(0,a.jsx)("ul",{children:null===i||void 0===i?void 0:i.map((function(e,s){return(0,a.jsxs)("li",{children:[(0,a.jsx)("picture",{children:(0,a.jsx)("img",{src:e.imagePath?"".concat(f.Z,"/").concat(e.imagePath):"/images/default-image.png",alt:"Recent"})}),(0,a.jsx)(w(),{href:"/blog-details/".concat(e._id),children:(0,a.jsx)("a",{children:e.title})}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("i",{className:"icofont-businessman"})," ",e.name]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("i",{className:"icofont-calendar"})," ",(0,y.Z)(e.date)]})]})]},s)}))})]}),(0,a.jsxs)("div",{className:"blog-details-category",children:[(0,a.jsx)("h3",{children:"Category"}),(0,a.jsx)("ul",{children:S.Z.map((function(e,s){return(0,a.jsx)("li",{className:n.category==e.name?"active":"",children:e.name},s)}))})]}),(0,a.jsxs)("div",{className:"blog-details-tags",children:[(0,a.jsx)("h3",{children:"Tags"}),(0,a.jsx)("ul",{children:null===(s=n.tags)||void 0===s?void 0:s.map((function(e,s){return(0,a.jsx)("li",{children:(0,a.jsx)("p",{children:e.name})},s)}))})]})]})}var k=n(1163),_=n(8774);function P(e){return(0,a.jsxs)("div",{className:"comment-item row m-2 fade-in",children:[(0,a.jsx)("div",{className:"col-lg-2 pt-3 text-center",children:(0,a.jsx)("picture",{children:(0,a.jsx)("img",{className:"comment-avatar",src:"/images/default-image.png",alt:"avatar"})})}),(0,a.jsxs)("div",{className:"col-lg-10 d-flex flex-column pt-3",children:[(0,a.jsx)("div",{className:"comment-title",children:(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("i",{className:"icofont-businessman"})," ",e.comment.name]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("i",{className:"icofont-calendar"})," ",(0,y.Z)(e.comment.date)]})]})}),(0,a.jsx)("p",{className:"comment-content",children:e.comment.content}),(0,a.jsx)("div",{className:"comment-title",children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsxs)("a",{style:{cursor:"pointer"},onClick:function(){e.handleOpen(!0),e.setActive(e.comment._id),e.setIsUp(!0)},children:[(0,a.jsx)("i",{className:"icofont-thumbs-up"})," ",e.comment.upCnt]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{style:{cursor:"pointer"},onClick:function(){e.handleOpen(!0),e.setActive(e.comment._id),e.setIsUp(!1)},children:[(0,a.jsx)("i",{className:"icofont-thumbs-down"})," ",e.comment.downCnt]})})]})})]})]})}var E=n(3321),q=n(657),T=n(1425),M=n(7645);function D(e){var s=e.open,n=e.handleClose,i=e.active,c=e.isUp;return(0,a.jsxs)(q.Z,{open:s,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,a.jsx)(M.Z,{id:"alert-dialog-title",children:c?"Would you like to recommend this comment?":"Are you against this comment?"}),(0,a.jsxs)(T.Z,{children:[(0,a.jsx)(E.Z,{onClick:n,children:"Cancel"}),(0,a.jsx)(E.Z,{onClick:c?function(){var e="".concat(f.Z,"/api/comments/up");p().post(e,{id:i}).then((function(e){_.default.success("Success Message",e.msg)})).catch((function(){_.default.error("Error Message","Something went wrong.")})),n()}:function(){var e="".concat(f.Z,"/api/comments/down");p().post(e,{id:i}).then((function(e){_.default.success("Success Message",e.msg)})).catch((function(){_.default.error("Error Message","Something went wrong.")})),n()},autoFocus:!0,children:"Ok"})]})]})}function U(){var e=(0,k.useRouter)().query.did,s=(0,i.useState)({}),n=s[0],o=s[1],d=(0,i.useState)(""),m=d[0],u=d[1],h=(0,i.useState)(""),x=h[0],j=h[1],g=(0,i.useState)([]),v=g[0],N=g[1],Z=(0,i.useState)(""),S=Z[0],E=Z[1],q=(0,i.useState)(!0),T=q[0],M=q[1],U=(0,i.useState)(5),A=U[0],B=U[1],I=(0,i.useState)(!1),O=I[0],R=I[1],F=(0,i.useState)([]),L=F[0],X=F[1],H=function(){R(!0)};return(0,i.useEffect)((function(){if(e){var s="".concat(f.Z,"/api/blogs/show/").concat(e);p().get(s).then((function(e){o(e.data.data),u(e.data.prev),j(e.data.next)})).catch((function(){_.default.error("Error message","Something went wrong")}))}}),[e]),(0,i.useEffect)((function(){if(e){var s="".concat(f.Z,"/api/comments/").concat(e);p().get(s).then((function(e){N(e.data)})).catch((function(){_.default.error("Error message","Something went wrong")}))}}),[e]),(0,i.useEffect)((function(){p().get("".concat(f.Z,"/api/blogs/home/latest")).then((function(e){X(e.data)})).catch((function(e){console.log(e)}))}),[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{}),(0,a.jsx)(t.Z,{}),(0,a.jsx)(l.Z,{pageTitle:"Blog Details",homePageUrl:"/blog",homePageText:"Blog",activePageText:"Blog Details",bgImage:"page-title-four"}),(0,a.jsx)("div",{className:"blog-details-area pt-100",children:n&&(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"col-lg-8",children:[(0,a.jsxs)("div",{className:"blog-details-item",children:[(0,a.jsxs)("div",{className:"blog-details-img",children:[(0,a.jsx)("picture",{children:(0,a.jsx)("img",{src:n.imagePath?"".concat(f.Z,"/").concat(n.imagePath):"/images/default-image.png",alt:"Blog"})}),(0,a.jsx)("h2",{children:n.title}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("i",{className:"icofont-businessman"}),"Admin"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("i",{className:"icofont-calendar"}),n.date?(0,y.Z)(n.date):n.date]})]}),(0,a.jsx)("p",{children:n.content})]}),(0,a.jsx)("div",{className:"blog-details-previous",children:(0,a.jsx)("div",{className:"prev-next",children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:m&&(0,a.jsx)(w(),{href:"/blog-details/".concat(m._id),children:(0,a.jsx)("a",{children:"Previous"})})}),(0,a.jsx)("li",{children:x&&(0,a.jsx)(w(),{href:"/blog-details/".concat(x._id),children:(0,a.jsx)("a",{children:"Next"})})})]})})})]}),(0,a.jsxs)("div",{className:"comments mb-5",children:[v.slice(0,A).map((function(e,s){return(0,a.jsx)(P,{comment:e,handleOpen:H,setIsUp:M,setActive:E},s)})),A<v.length&&(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{onClick:function(){B(A+4)},type:"button",className:"btn m-auto btn-primary load-more",children:"Load more"})})]}),(0,a.jsx)(b,{blog_id:e})]}),(0,a.jsx)("div",{className:"col-lg-4",children:(0,a.jsx)(C,{blog:n,recent:L})})]})})}),(0,a.jsx)(r.Z,{}),(0,a.jsx)(D,{open:O,handleClose:function(){R(!1)},active:S,isUp:T})]})}},8913:function(e,s){"use strict";s.Z=[{id:1,name:"Health Care",value:"healthcare"},{id:2,name:"Medical Science",value:"medicalscience"},{id:3,name:"Daily Lifestyle",value:"dailylifestyle"},{id:4,name:"Medicine",value:"medicine"},{id:5,name:"Modern Technology",value:"moderntechnology"},{id:7,name:"Cancer Research",value:"cancerresearch"},{id:8,name:"Bioinformatics",value:"bioinformatics"}]},9999:function(e,s){"use strict";s.Z=function(e){var s=null===e||void 0===e?void 0:e.split(/\D+/);return s[0]+"-"+s[1]+"-"+s[2]+" "+s[3]+":"+s[4]+":"+s[5]}}},function(e){e.O(0,[1664,8554,4333,1562,6681,2641,9774,2888,179],(function(){return s=9937,e(e.s=s);var s}));var s=e.O();_N_E=s}]);